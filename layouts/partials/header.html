<nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="{{ .Site.BaseURL | relLangURL }}">
      {{ if .Site.Params.logourl }}
        {{ with .Site.Params.logourl }}
          <img src="{{ . | relURL }}" alt="logo" title="{{ i18n "start_page" }}">
        {{ end }}
      {{ else }}
        {{ .Site.Title }}
      {{ end }}
    </a>
    {{ if or .Site.Menus.main .Site.IsMultiLingual }}
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      {{ $current := . }}
      <ul class="navigation-list">
        {{ with .Site.Menus.main}}
          {{ range sort . }}
            {{ $active := in $current.RelPermalink .URL }}
            {{ $active = or $active (and (in $current.RelPermalink "/categories") (eq .URL "posts")) }}
            {{ $active = or $active (and (in $current.RelPermalink "/tags") (eq .URL "posts")) }}

            <li class="navigation-item">
              <a class="navigation-link {{ if $active }} active{{ end }}" href="{{ .URL | relLangURL }}">{{ .Name }}</a>
            </li>
          {{ end }}
        {{ end }}
        {{ if .Site.IsMultiLingual }}
          {{ $node := . }}
          {{ .Scratch.Set "separator" true }}
          {{ range (default .Site.Home.AllTranslations .Translations) }}
            {{ if ne $.Site.Language .Language }}
              {{ if $node.Scratch.Get "separator" }}
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                {{ $node.Scratch.Set "separator" false }}
              {{ end }}
              <li class="navigation-item">
                <a href="{{ .Permalink }}">{{ .Language.LanguageName }}</a>
              </li>
            {{ end }}
          {{ end }}
        {{ end }}
      </ul>
    {{ end }}
  </section>
</nav>
